<!doctype html><html><head><meta charset="utf=8"><meta content="width=device-width,initial-scale=1" name=viewport><title>Alex's Portfolio</title><link href=favicon.ico rel=icon><link crossorigin href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css integrity=sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7 rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.4/font/bootstrap-icons.min.css rel=stylesheet><link href=https://brochu.github.io/portfolio/css/main.css rel=stylesheet><body class=index-page><main class=main><h1 class=title>Ray Tracer - DirectX 11</h1><p class=subtitle><strong>2021-03-30</strong><p>While browsing on my Twitter account, I found out about the book available online called <a href=https://raytracing.github.io/books/RayTracingInOneWeekend.html>Ray Tracing in One Weekend</a> by <a href=https://twitter.com/Peter_shirley>Peter Shirley</a>. This book is a very good guide to write a CPU based ray tracer that will produce some images by emulating the physics of light rays boucing in a scene. The result is usually some images with a good realistic look but is not suited for full real time rendering with frame times under 16.67ms.<p>While studying in Sherbrooke University, I took one class for photorealistic rendering in which I had to go through the exercice of writing a ray tracer that executes on the CPU. This renderer had some interesting features:<ul><li>Mutiple shapes support(triangles, planes, spheres, cubes, cylinders, cones).<li>Acceleration structure (uniform grid) to compute less ray/shape intersections.<li>Volume textures.<li>Multiple materials properties (mirror, matte color).</ul><p>Since I already implemented this kind of demo before, I wanted to go through this book with one extra challenge in mind. I wanted to implement this ray tracer so it could run on the GPU instead of the CPU. I also wanted to learn how to une DirectX 11 so I decided to use this graphics API to help me with this task.<p>The implementation from Ray Tracing in One Weekend had similar features to the ray tracer I had to implement in my class. Throughout the experience, I was able to learn a lot about how DirectX is setup and how to use it for some performant rendering. Here are some of the things I learned:<ul><li>Boilerplate setup code for DirectX 11 applications.<li>How to compile and load shader code (vertex and fragment shaders).<li>How to create and send a vertex buffer to the GPU memory.<li>How this vertex buffer is used on the GPU side to execute the vertex shader.<li>How the data will flow from the vertex shader to the fragment shader.<li>How to create a shared buffer between the GPU and CPU to send some constant buffer data to the shaders.<li>Two different implementations of the ray trace algorithm: <ul><li>One completely implemented in the fragment shader stage.<li>One where the ray trace algorithm is ran in a compute shader and stored in a texture that is then sampled in the fragment shader on a plane to show the results.</ul><li>Testing performance on the application with GPU profilers</ul><p>Here are some screenshots of images rendered with the ray tracer:</main><script crossorigin integrity=sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js></script>